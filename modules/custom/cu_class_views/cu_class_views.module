<?php
/**
 * @file
 * Code for the CU Class Views feature.
 */

include_once 'cu_class_views.features.inc';

function cu_class_views_form_views_exposed_form_alter(&$form, &$form_state, $form_id) {
  if ($form['#id'] == 'views-exposed-form-cu-classes-page') {
    // Subject
    $form['field_class_subject_value']['#type'] = 'select';
    $form['field_class_subject_value']['#options'] = cu_class_subject_values();
    unset($form['field_class_subject_value']['#size']);
    $form['field_class_subject_value']['#multiple'] = FALSE;
    $form['field_class_subject_value']['#empty_value'] = '';

    // Core Requirements
    $form['field_class_crse_attr_value_value']['#type'] = 'select';
    $form['field_class_crse_attr_value_value']['#options'] = cu_class_core_requirements_values();
    unset($form['field_class_crse_attr_value_value']['#size']);
    $form['field_class_crse_attr_value_value']['#multiple'] = FALSE;
    $form['field_class_crse_attr_value_value']['#empty_value'] = '';

    // Format
    $form['field_class_instruction_mode_value']['#type'] = 'select';
    $form['field_class_instruction_mode_value']['#options'] = cu_class_format_values();
    unset($form['field_class_instruction_mode_value']['#size']);
    $form['field_class_instruction_mode_value']['#multiple'] = FALSE;
    $form['field_class_instruction_mode_value']['#empty_value'] = '';

    // Reset button
    $form['actions']['reset'] = array('#markup' => '<input id="reset" type="reset" value="Reset" />', '#weight' => 1000);
  }
}
